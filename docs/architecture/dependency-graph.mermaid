flowchart LR
    subgraph Entry["Entry Point"]
        main["cmd/fibcalc<br/>main.go"]
    end

    subgraph Core["Application Core"]
        app["internal/app<br/>Lifecycle & Dispatch"]
        config["internal/config<br/>Flag Parsing & Env"]
    end

    subgraph Orchestration["Orchestration Layer"]
        orch["internal/orchestration<br/>Parallel Execution"]
    end

    subgraph Business["Business Logic"]
        fib["internal/fibonacci<br/>Algorithms & Frameworks"]
        bigfft["internal/bigfft<br/>FFT Multiplication"]
        calib["internal/calibration<br/>Benchmarking & Tuning"]
    end

    subgraph Presentation["Presentation Layer"]
        cli["internal/cli<br/>CLI Output"]
        tui["internal/tui<br/>TUI Dashboard"]
    end

    subgraph Support["Support Packages (Leaf Nodes)"]
        errors["internal/errors"]
        format["internal/format"]
        metrics["internal/metrics"]
        parallel["internal/parallel"]
        sysmon["internal/sysmon"]
        ui["internal/ui"]
        testutil["internal/testutil"]
    end

    main --> app
    app --> config
    app --> orch
    app --> cli
    app --> tui
    app --> calib
    app --> fib
    app --> errors
    app --> ui

    orch --> fib
    orch --> config
    orch --> errors

    calib --> fib
    calib --> bigfft
    calib --> cli
    calib --> config
    calib --> errors
    calib --> format
    calib --> ui

    fib --> bigfft
    fib --> parallel

    cli --> format
    cli --> errors
    cli --> metrics
    cli --> ui
    cli --> orch
    cli --> fib
    cli --> config

    tui --> format
    tui --> metrics
    tui --> sysmon
    tui --> ui
    tui --> errors
    tui --> config
    tui --> fib
    tui --> orch

    style Entry fill:#e1f5fe
    style Core fill:#f3e5f5
    style Orchestration fill:#fff3e0
    style Business fill:#e8f5e9
    style Presentation fill:#fce4ec
    style Support fill:#f5f5f5
